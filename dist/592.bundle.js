(self.webpackChunkcountriesapp=self.webpackChunkcountriesapp||[]).push([[592],{3646:(e,t,n)=>{var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)}},6860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},8206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:(e,t,n)=>{var r=n(3646),a=n(6860),o=n(379),c=n(8206);e.exports=function(e){return r(e)||a(e)||o(e)||c()}},6592:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(319),a=n.n(r),o=n(8926),c=n.n(o),s=n(4575),l=n.n(s),i=n(3913),u=n.n(i),m=n(1506),d=n.n(m),h=n(2205),p=n.n(h),f=n(8585),g=n.n(f),v=n(9754),y=n.n(v),E=n(9713),b=n.n(E),k=n(7757),N=n.n(k),C=n(7294),x=n(9066),_=n(3038),w=n.n(_);const B=function(e){return C.createElement(C.Fragment,null,C.createElement("figure",null,C.createElement("img",{className:"img-flag img-fluid",src:e.info.flag,alt:e.info.name})),C.createElement("div",{className:"details__container"},C.createElement("h6",{className:"name-country"},e.info.name),C.createElement("div",{className:"details__description"},C.createElement("div",{className:"details__description__container"},C.createElement("h6",{className:"details__description__items"},"Population:"),C.createElement("h6",{className:"details__description__items"},"Region:"),C.createElement("h6",{className:"details__description__items"},"Capital:")),C.createElement("div",{className:"details__content__container"},C.createElement("p",{className:"details__content"},e.info.population),C.createElement("p",{className:"details__content"},e.info.region),C.createElement("p",{className:"details__content"},e.info.capital)))))};var P=n(3259);const R=function(e){var t=(0,C.useState)(""),n=w()(t,2),r=n[0],a=n[1],o=(0,C.useState)(!1),s=w()(o,2),l=s[0],i=s[1],u=(0,C.useState)([]),m=w()(u,2),d=m[0],h=m[1],p=document.getElementById("input-search"),f=function(){var e=c()(N().mark((function e(t){var n,a,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=15;break}if("string"!=typeof r||0===r.length){e.next=15;break}return e.prev=2,e.next=5,P.Z.getCountryByName(r);case 5:n=e.sent,a=w()(n.data,1),o=a[0],h(o),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),404===e.t0.status&&$("#alert-search").modal({show:!0}),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,C.useEffect)((function(){0===r.length&&h([])}),[r]),C.createElement(C.Fragment,null,C.createElement("div",{className:"search"},C.createElement("div",{className:"input-group container_search"},C.createElement("div",{style:{backgroundColor:e.theme.fontBackground},className:"input-group-prepend py-2 px-3"},C.createElement("i",{style:{color:e.theme.colortext},className:"fas fa-search icon-search"})),C.createElement("input",{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},type:"search",name:"search",id:"input-search",className:"form-control",onChange:function(e){var t=e.target.value;t?(i(!1),p.classList.remove("error")):t||(i(!0),p.classList.add("error")),a(t)},onKeyPress:f,"aria-describedby":"searchHelp","aria-label":"input-search",placeholder:"Search for a country..."})),l&&C.createElement("span",{className:"search__error"},"Enter a Country, please!")),Object.keys(d).length?C.createElement("div",{id:"search-country",className:"search-country"},C.createElement("div",{className:"country"},C.createElement(B,{info:d}))):null)};var A=n(3727);const S=function(e){var t=function(t){e.handleRegion(t.target.name)};return C.createElement("div",{className:"dropdown container-regions"},C.createElement("button",{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},type:"button",className:"btn btn-region dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Filter by Region"),C.createElement("div",{style:{backgroundColor:e.theme.fontBackground},className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},C.createElement(A.rU,{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},className:"dropdown-item",to:"#",onClick:t,name:"Africa"},"Africa"),C.createElement(A.rU,{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},className:"dropdown-item",to:"#",onClick:t,name:"Americas"},"America"),C.createElement(A.rU,{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},className:"dropdown-item",to:"#",onClick:t,name:"Asia"},"Asia"),C.createElement(A.rU,{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},className:"dropdown-item",to:"#",onClick:t,name:"Europe"},"Europe"),C.createElement(A.rU,{style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext},className:"dropdown-item",to:"#",onClick:t,name:"Oceania"},"Oceania")))},F=function(e){return C.createElement("div",{className:"container-country"},e.countries.map((function(t){return C.createElement(A.rU,{to:{pathname:"/country",search:"?code=".concat(t.alpha3Code)},className:"country",key:t.alpha2Code,style:{backgroundColor:e.theme.fontBackground,color:e.theme.colortext}},C.createElement(B,{theme:e.theme,info:t}))})))},U=n.p+"images/notFind.a335a60d390db91629e8f9a78d0c338a.png",O=function(){return C.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",id:"alert-search"},C.createElement("div",{className:"modal-dialog",role:"document"},C.createElement("div",{className:"modal-content"},C.createElement("div",{className:"modal-header"},C.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},C.createElement("span",{"aria-hidden":"true"},"Ã—"))),C.createElement("div",{className:"modal-body"},C.createElement("figure",{className:"d-flex justify-content-center"},C.createElement("img",{className:"img-fluid w-50 h-50",src:U,alt:"img-notFind"})),C.createElement("h1",{className:"modal-title text-center"},"Upps...!"),C.createElement("h6",{className:"text-center"},"We didn't have find nothing! ")),C.createElement("div",{className:"modal-footer"},C.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))},I=function(){var e=(0,C.useContext)(x.N).theme;return C.createElement("div",{className:"lds-ellipsis"},C.createElement("div",{style:{backgroundColor:e.loadingBackground}}),C.createElement("div",{style:{backgroundColor:e.loadingBackground}}),C.createElement("div",{style:{backgroundColor:e.loadingBackground}}),C.createElement("div",{style:{backgroundColor:e.loadingBackground}}))};var j=function(e){p()(s,e);var t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(n);if(r){var a=y()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return g()(this,e)});function s(){var e;l()(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),b()(d()(e),"state",{countries:[],countriesPerPage:[],perCountry:12}),b()(d()(e),"handleObserver",(function(t){t[0].isIntersecting&&setTimeout((function(){return e.getCountriesPerPage()}),500)})),b()(d()(e),"observer",new IntersectionObserver(e.handleObserver,{root:null,threshold:0})),b()(d()(e),"FecthData",c()(N().mark((function t(){var n,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Z.getAllCountries();case 3:n=t.sent,r=n.data,e.setState({countries:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))),b()(d()(e),"FetchRegions",function(){var t=c()(N().mark((function t(n){var r,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Z.getCountriesByRegion(n);case 3:r=t.sent,a=r.data,e.setState({countries:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),e}return u()(s,[{key:"componentDidMount",value:(t=c()(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.FecthData();case 2:(t=document.querySelector("div#loader"))&&this.observer.observe(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){if(t.countries.length!==this.state.countries.length&&this.getCountriesPerPage(),this.state.countriesPerPage.length>=this.state.countries.length){var n=document.querySelector("div#loader");n.classList.add("d-none"),this.observer.unobserve(n)}}},{key:"getCountriesPerPage",value:function(){var e=this.state.countriesPerPage.length;if(this.state.countries.length){var t=this.state.countries.slice(e,this.state.perCountry);this.setState((function(e){return{countriesPerPage:[].concat(a()(e.countriesPerPage),a()(t)),perCountry:e.perCountry+8}}))}}},{key:"render",value:function(){var e=this.context.theme;return C.createElement("div",{className:"container_home container mt-1"},C.createElement(R,{theme:e}),C.createElement(S,{handleRegion:this.FetchRegions,theme:e}),C.createElement(F,{countries:this.state.countriesPerPage,theme:e}),C.createElement(O,null),C.createElement("div",{id:"loader",className:"px-5 mt-3 w-100 text-center"},C.createElement(I,null)))}}]),s}(C.Component);j.contextType=x.N;const D=j},3259:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9669);const a=n.n(r)().create({baseURL:"https://restcountries.com/v2"}),o={getAllCountries:function(){return a.get("/all")},getCountriesByRegion:function(e){return a.get("/region/".concat(e))},getCountryByName:function(e){return a.get("/name/".concat(e))},getCountryByCode:function(e){return a.get("/alpha/".concat(e))},getBordersCountryByCode:function(e){return a.get("/alpha/?codes=".concat(e))}}}}]);